"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.client = exports.activity = exports.entity = exports.orchestration = void 0;
const trigger = require("./trigger");
const testingUtils_1 = require("./util/testingUtils");
const functions_1 = require("@azure/functions");
const RegisteredOrchestrationTask_1 = require("./task/RegisteredOrchestrationTask");
const RegisteredActivityTask_1 = require("./task/RegisteredActivityTask");
function orchestration(functionName, handlerOrOptions) {
    const options = typeof handlerOrOptions === "function" ? { handler: handlerOrOptions } : handlerOrOptions;
    functions_1.app.generic(functionName, Object.assign(Object.assign({ trigger: trigger.orchestration() }, options), { handler: (0, testingUtils_1.createOrchestrator)(options.handler) }));
    const result = (input, instanceId) => {
        return new RegisteredOrchestrationTask_1.RegisteredOrchestrationTask(functionName, input, instanceId);
    };
    return result;
}
exports.orchestration = orchestration;
function entity(functionName, handlerOrOptions) {
    const options = typeof handlerOrOptions === "function" ? { handler: handlerOrOptions } : handlerOrOptions;
    functions_1.app.generic(functionName, Object.assign(Object.assign({ trigger: trigger.entity() }, options), { handler: (0, testingUtils_1.createEntityFunction)(options.handler) }));
}
exports.entity = entity;
function activity(functionName, options) {
    functions_1.app.generic(functionName, Object.assign({ trigger: trigger.activity() }, options));
    const result = (input) => {
        return new RegisteredActivityTask_1.RegisteredActivityTask(functionName, input);
    };
    return result;
}
exports.activity = activity;
exports.client = require("./client");
//# sourceMappingURL=app.js.map